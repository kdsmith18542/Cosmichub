# Root .htaccess for CosmicHub
# Protects sensitive files and directories from web access

# Deny access to all files in root directory
Order deny,allow
Deny from all

# Block access to sensitive files
<FilesMatch "\.(env|log|ini|conf|sql|bak|backup|md)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Block access to sensitive directories
RewriteEngine On
RewriteRule ^(app|config|database|storage|vendor)/ - [F,L]

# Redirect all requests to public directory
RewriteCond %{REQUEST_URI} !^/public/
RewriteRule ^(.*)$ /public/$1 [L,R=301]